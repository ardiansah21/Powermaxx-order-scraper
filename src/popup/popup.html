<!doctype html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Powermaxx Order Scraper</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <header class="hero">
    <div class="header-row">
      <h1>Powermaxx Order Scraper</h1>
      <div class="header-actions">
        <button id="openBulkBtn" class="icon-btn" aria-label="Bulk" title="Bulk">☰</button>
        <button id="openSettingsBtn" class="icon-btn" aria-label="Pengaturan" title="Pengaturan">⚙</button>
      </div>
    </div>
    <p>Ambil data dan kirim ke API.</p>
  </header>

  <section class="panel status-panel">
    <div class="status-card" id="statusCard">
      <div class="status-icon" id="statusIcon">•</div>
      <div class="status-text" id="status">Belum ada permintaan.</div>
      <div id="statusSpinner" class="spinner hidden" aria-hidden="true"></div>
    </div>
    <details id="errorDetails" class="error-details hidden">
      <summary id="errorDetailsToggle">Tampilkan detail</summary>
      <div class="error-box">
        <div class="error-text" id="errorText"></div>
        <button id="copyErrorBtn" class="ghost small" title="Copy error">Copy</button>
      </div>
    </details>
  </section>

  <section id="loginView" class="panel login-panel">
    <div class="panel-head">
      <div>
        <h2>Login</h2>
        <small>Base URL diambil dari Pengaturan.</small>
      </div>
    </div>

    <label for="authEmail">Email</label>
    <input id="authEmail" type="email" spellcheck="false" placeholder="nama@email.com">

    <label for="authPassword">Password</label>
    <input id="authPassword" type="password" spellcheck="false" placeholder="Password">
    <small>Password tidak disimpan.</small>

    <div class="actions login-actions">
      <button id="loginBtn" class="primary">Login</button>
    </div>
  </section>

  <div id="mainView" class="view hidden">
    <section class="panel">
      <details class="profile-menu" id="profileMenu">
        <summary class="profile-card" id="profileCard">
          <div class="profile-info">
            <div class="profile-name" id="profileName">-</div>
            <div class="profile-email" id="profileEmail">-</div>
          </div>
          <span class="profile-chevron" aria-hidden="true">▾</span>
        </summary>
        <div class="profile-actions">
          <button id="logoutBtn" class="ghost small">Logout</button>
        </div>
      </details>
    </section>

    <section class="panel compact">
      <div class="actions-primary">
        <button id="fetchSendAwbBtn" class="primary">Ambil + Kirim + AWB</button>
        <button id="fetchSendBtn" class="ghost">Ambil + Kirim</button>
        <button id="refreshIncomeBtn" class="ghost">Update Income</button>
      </div>
      <details class="actions-more">
        <summary>Aksi lainnya</summary>
        <div class="actions-secondary">
          <button id="fetchBtn" class="ghost">Ambil Data</button>
          <button id="sendExportBtn" class="ghost">Kirim Data</button>
          <button id="downloadAwbBtn" class="ghost">Download AWB</button>
          <button id="openViewerBtn" class="ghost">Lihat Data</button>
        </div>
      </details>
    </section>
  </div>


  <script src="popup.js"></script>
</body>
</html>
